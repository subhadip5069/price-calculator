<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Category Management</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body style="background-color: #f8f9fa; font-family: 'Segoe UI', sans-serif;">
  <div class="container mt-5 p-4 rounded shadow-sm bg-white" style="max-width: 700px;">
    <h2 class="mb-4 text-success text-center">Create a Category</h2>

    <a href="/admin/calculator" class=" btn btn-primary"> Add price </a>
    
    <form action="/admin/categories" method="POST" class="mb-5">
      <div class="mb-3">
        <label for="categoryName" class="form-label fw-semibold">Category Name</label>
        <input type="text" class="form-control" id="categoryName" name="name" placeholder="e.g. Business Cards" required>
      </div>
      <button type="submit" class="btn btn-success w-100">Add Category</button>
    </form>

    <hr />

    <h4 class="mb-3 text-primary">Existing Categories</h4>
    <% if (categories.length > 0) { %>
      <ul class="list-group">
        <% categories.forEach(cat => { %>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span><i class="bi bi-folder-fill text-warning me-2"></i><%= cat.name %></span>
            <div>
              <small class="text-muted me-3"><%= new Date(cat.createdAt).toLocaleDateString() %></small>
              <a href="/admin/categories/delete/<%= cat._id %>" onclick="return confirm('Are you sure you want to delete this category?')" class="text-danger">
                <i class="bi bi-trash-fill"></i>
              </a>
            </div>
          </li>
        <% }) %>
      </ul>
    <% } else { %>
      <p class="text-muted">No categories added yet.</p>
    <% } %>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
